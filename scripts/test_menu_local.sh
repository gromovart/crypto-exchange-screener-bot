#!/bin/bash

echo "üì± –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï TELEGRAM –ú–ï–ù–Æ –í –õ–û–ö–ê–õ–¨–ù–û–ú –†–ï–ñ–ò–ú–ï"
echo "=============================================="
echo ""

echo "1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏..."
if [ ! -f ".env" ]; then
    echo "‚ùå –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª: cp .env.example .env"
    echo "   –î–æ–±–∞–≤—å—Ç–µ TG_API_KEY –∏ TG_CHAT_ID"
    exit 1
fi

echo "2. –ó–∞–ø—É—Å–∫ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ..."
echo "   (–±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è)"
echo ""

echo "üìå –û–¢–ö–†–û–ô–¢–ï TELEGRAM –ò:"
echo "   1. –ù–∞–π–¥–∏—Ç–µ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞"
echo "   2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ /start"
echo "   3. –ù–∞–∂–∏–º–∞–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é"
echo ""

echo "üîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞..."
echo "üõë –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞–∂–º–∏—Ç–µ Ctrl+C"
echo ""

# –ó–∞–ø—É—Å–∫ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
TEST_MODE=true HTTP_ENABLED=false go run cmd/bot/main.go --log-level=debug