// internal/delivery/telegram/app/bot/handlers/commands/terms/handler.go
package terms

import (
	"fmt"

	"crypto-exchange-screener-bot/internal/delivery/telegram/app/bot/constants"
	"crypto-exchange-screener-bot/internal/delivery/telegram/app/bot/handlers"
	"crypto-exchange-screener-bot/internal/delivery/telegram/app/bot/handlers/base"
)

// termsCommandHandler —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–æ–º–∞–Ω–¥—ã /terms
type termsCommandHandler struct {
	*base.BaseHandler
}

// NewHandler —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /terms
func NewHandler() handlers.Handler {
	return &termsCommandHandler{
		BaseHandler: &base.BaseHandler{
			Name:    "terms_command_handler",
			Command: "terms",
			Type:    handlers.TypeCommand,
		},
	}
}

// Execute –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–º–∞–Ω–¥—ã /terms
func (h *termsCommandHandler) Execute(params handlers.HandlerParams) (handlers.HandlerResult, error) {
	message := fmt.Sprintf(
		"üìú *–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è*\n\n" +
			"*1. –û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è*\n" +
			"1.1. –ë–æ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä—ã–Ω–∫–µ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.\n" +
			"1.2. –ò—Å–ø–æ–ª—å–∑—É—è –±–æ—Ç–∞, –≤—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ, —á—Ç–æ –æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å –∏ —Å–æ–≥–ª–∞—Å–Ω—ã —Å –¥–∞–Ω–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏.\n\n" +

			"*2. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä*\n" +
			"2.1. –í—Å–µ —Å–∏–≥–Ω–∞–ª—ã –∏ –¥–∞–Ω–Ω—ã–µ –Ω–æ—Å—è—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä.\n" +
			"2.2. –ë–æ—Ç –Ω–µ –¥–∞–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –∫ –¥–µ–π—Å—Ç–≤–∏—é.\n" +
			"2.3. –í—ã —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ –≤—Å–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –Ω–µ—Å–µ—Ç–µ –∑–∞ –Ω–∏—Ö –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å.\n\n" +

			"*3. –†–∏—Å–∫–∏*\n" +
			"3.1. –†—ã–Ω–æ–∫ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑—É–µ—Ç—Å—è –≤—ã—Å–æ–∫–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å—é.\n" +
			"3.2. –¢–æ—Ä–≥–æ–≤–ª—è —Å–≤—è–∑–∞–Ω–∞ —Å –≤—ã—Å–æ–∫–∏–º–∏ —Ä–∏—Å–∫–∞–º–∏ –ø–æ—Ç–µ—Ä–∏ –∫–∞–ø–∏—Ç–∞–ª–∞.\n" +
			"3.3. –ü—Ä–æ—à–ª—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç –±—É–¥—É—â–µ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏.\n\n" +

			"*4. –ü–æ–¥–ø–∏—Å–∫–∏ –∏ –ø–ª–∞—Ç–µ–∂–∏*\n" +
			"4.1. –û–ø–ª–∞—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –≤ Telegram Stars —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã.\n" +
			"4.2. –ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã.\n" +
			"4.3. –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ç–∞—Ä–∏—Ñ–∞.\n" +
			"4.4. –°—Ä–µ–¥—Å—Ç–≤–∞ –∑–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è.\n\n" +

			"*5. –í–æ–∑–≤—Ä–∞—Ç—ã –∏ —Å–ø–æ—Ä—ã*\n" +
			"5.1. –í–æ–∑–≤—Ä–∞—Ç—ã –≤–æ–∑–º–æ–∂–Ω—ã —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞—è—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º —Å –±–æ—Ç–æ–º.\n" +
			"5.2. –î–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /paysupport.\n" +
			"5.3. –†–µ—à–µ–Ω–∏–µ –æ –≤–æ–∑–≤—Ä–∞—Ç–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 7 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π.\n\n" +

			"*6. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å*\n" +
			"6.1. –ú—ã –Ω–µ –Ω–µ—Å–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ø—Ä—è–º—ã–µ –∏–ª–∏ –∫–æ—Å–≤–µ–Ω–Ω—ã–µ —É–±—ã—Ç–∫–∏.\n" +
			"6.2. –ë–æ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è \"–∫–∞–∫ –µ—Å—Ç—å\" –±–µ–∑ –≥–∞—Ä–∞–Ω—Ç–∏–π.\n" +
			"6.3. –ú—ã –Ω–µ –æ—Ç–≤–µ—á–∞–µ–º –∑–∞ –∑–∞–¥–µ—Ä–∂–∫–∏ –≤ —Ä–∞–±–æ—Ç–µ Telegram –∏–ª–∏ –±–∏—Ä–∂–∏.\n\n" +

			"*7. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π*\n" +
			"7.1. –ú—ã –æ—Å—Ç–∞–≤–ª—è–µ–º –ø—Ä–∞–≤–æ –∏–∑–º–µ–Ω—è—Ç—å —É—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.\n" +
			"7.2. –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–æ—Ç–∞ –æ–∑–Ω–∞—á–∞–µ—Ç —Å–æ–≥–ª–∞—Å–∏–µ —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏.\n\n" +

			"*8. –ö–æ–Ω—Ç–∞–∫—Ç—ã*\n" +
			"üìß Email: support@gromovart.ru\n" +
			"üí¨ Telegram: @gromovart\n\n" +

			"*9. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ*\n" +
			"–ù–∞–∂–∏–º–∞—è –∫–Ω–æ–ø–∫—É \"üí≥ –û–ø–ª–∞—Ç–∏—Ç—å\", –≤—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ, —á—Ç–æ –ø—Ä–æ—á–∏—Ç–∞–ª–∏ –∏ —Å–æ–≥–ª–∞—Å–Ω—ã —Å —É—Å–ª–æ–≤–∏—è–º–∏.",
	)

	keyboard := map[string]interface{}{
		"inline_keyboard": [][]map[string]string{
			{
				{"text": "‚úÖ –ü—Ä–∏–Ω—è—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å", "callback_data": constants.CallbackMenuMain},
			},
			{
				{"text": "üìã –ü–æ–º–æ—â—å", "callback_data": constants.CallbackHelp},
			},
		},
	}

	return handlers.HandlerResult{
		Message:  message,
		Keyboard: keyboard,
		Metadata: map[string]interface{}{
			"user_id": params.User.ID,
			"command": "terms",
		},
	}, nil
}
