# ============================================
# CRYPTO EXCHANGE SCREENER BOT
# Configuration File (.env.example)
# ============================================

# Копируйте этот файл как .env и настройте под себя:
# cp .env.example .env
# nano .env

# ============================================
# 1. ВЫБОР БИРЖИ И API КЛЮЧИ (ОБЯЗАТЕЛЬНЫЕ)
# ============================================

# Основная биржа для мониторинга
# Возможные значения: bybit, binance
# Назначение: выбор клиента API, формат данных, доступные символы
EXCHANGE=bybit

# Тип торговли на бирже
# Возможные значения: futures (фьючерсы), spot (спот)
# Назначение: выбор рынка, расчет PnL, доступные инструменты
EXCHANGE_TYPE=futures

# =============== BYBIT НАСТРОЙКИ ================

# API ключ от Bybit (получить на bybit.com) - ОБЯЗАТЕЛЬНО
# Назначение: аутентификация, доступ к данным
BYBIT_API_KEY=

# Секретный ключ от Bybit
# Назначение: подпись запросов, безопасность
BYBIT_SECRET_KEY=

# URL API Bybit (обычно не меняйте)
# Назначение: адрес сервера, тестовые среды
BYBIT_API_URL=https://api.bybit.com

# =============== BINANCE НАСТРОЙКИ ===============

# API ключ от Binance (опционально, если используете Binance)
# Назначение: аутентификация на Binance
BINANCE_API_KEY=

# Секретный ключ от Binance
# Назначение: подпись запросов на Binance
BINANCE_API_SECRET=

# ============================================
# 2. НАСТРОЙКИ СИМВОЛОВ И ФИЛЬТРАЦИИ
# ============================================

# Фильтр символов для мониторинга
# Формат: список через запятую без пробелов
# Значения: конкретные символы (BTC, ETH) или "all" для всех
#   SYMBOL_FILTER=BTC,ETH,BNB,SOL,XRP
#   SYMBOL_FILTER=all (ВСЕ символы)
#   SYMBOL_FILTER= (первые 50 по объему)
# Назначение: какие символы будут отслеживаться
SYMBOL_FILTER=

# Символы для исключения из мониторинга
# Формат: список через запятую, приоритет выше чем SYMBOL_FILTER
# Назначение: исключение мусорных или нежелательных символов
EXCLUDE_SYMBOLS=

# Максимальное количество символов для мониторинга
# Значения: 0 = без ограничений, >0 = ограничение
# Назначение: производительность, потребление памяти
MAX_SYMBOLS_TO_MONITOR=100

# Минимальный объем для фильтрации символов (в USDT)
# Значения: рекомендуем >100000 для отсеивания малообъемных
# Назначение: качество сигналов, исключение мусорных символов
MIN_VOLUME_FILTER=100000

# ============================================
# 3. ДВИЖОК АНАЛИЗА (CORE ENGINE)
# ============================================

# Интервал между анализами в секундах
# Значения: 5-60 секунд (меньше = чаще, но выше нагрузка)
# Назначение: частота проверок, нагрузка на систему
ANALYSIS_UPDATE_INTERVAL=30

# Временные периоды для анализа в минутах
# Формат: список через запятую
# Назначение: какие временные окна проверяются на тренды
ANALYSIS_PERIODS=5

# Максимальное количество символов за один цикл анализа
# Значения: 10-100 (больше = медленнее)
# Назначение: время анализа, нагрузка на CPU
ANALYSIS_MAX_SYMBOLS_PER_RUN=50

# Общий порог для всех сигналов в процентах
# Значения: 0.5-5.0 (ниже = больше ложных срабатываний)
# Назначение: чувствительность системы
ANALYSIS_SIGNAL_THRESHOLD=1.5

# Сколько часов хранить исторические данные
# Значения: 1-168 (1 неделя)
# Назначение: использование памяти, анализ долгосрочных трендов
ANALYSIS_RETENTION_PERIOD=24

# Включить параллельную обработку символов
# Значения: true/false
# Назначение: скорость анализа, использование CPU
ANALYSIS_ENABLE_PARALLEL=true

# Максимальное количество потоков для параллельной обработки
# Значения: 1-20 (зависит от CPU)
# Назначение: многопоточность, производительность
ANALYSIS_MAX_WORKERS=5

# ============================================
# ОТКРЫТЫЙ ИНТЕРЕС (OPEN INTEREST)
# ============================================

# Включить анализатор открытого интереса
OPEN_INTEREST_ANALYZER_ENABLED=false

# Минимальная уверенность для сигналов OI (%)
OPEN_INTEREST_MIN_CONFIDENCE=50.0

# Минимальное изменение цены для анализа OI (%)
OPEN_INTEREST_MIN_PRICE_CHANGE=1.0

# Минимальное падение цены для анализа OI (%)
OPEN_INTEREST_MIN_PRICE_FALL=1.0

# Минимальное изменение OI для анализа (%)
OPEN_INTEREST_MIN_OI_CHANGE=5.0

# Порог экстремального OI (1.5 = на 50% выше среднего)
OPEN_INTEREST_EXTREME_THRESHOLD=1.5

# Вес анализатора OI в общей системе (0-1)
OPEN_INTEREST_ANALYZER_WEIGHT=0.6

# Включить уведомления для сигналов OI
OPEN_INTEREST_NOTIFY_ENABLED=true

# ============================================
# АНАЛИЗАТОР ОБЪЕМА (VOLUME)
# ============================================

# Включить анализатор объема
VOLUME_ANALYZER_ENABLED=true

# Минимальная уверенность для сигналов объема (%)
VOLUME_ANALYZER_MIN_CONFIDENCE=30.0

# Минимальный объем для анализа (USDT)
VOLUME_ANALYZER_MIN_VOLUME=100000.0

# ============================================
# 4. АНАЛИЗАТОРЫ ТРЕНДОВ
# ============================================

# ------------ АНАЛИЗАТОР РОСТА --------------

# Включить анализатор роста
# Назначение: обнаружение восходящих трендов
GROWTH_ANALYZER_ENABLED=true

# Минимальная уверенность для сигналов роста (%)
# Значения: 0-100 (выше = надежнее, но реже)
# Назначение: качество сигналов, количество ложных срабатываний
GROWTH_ANALYZER_MIN_CONFIDENCE=30.0

# Минимальный порог роста для сигнала (%)
# Значения: 0.1-10.0 (ниже = чувствительнее)
# Назначение: чувствительность к росту
GROWTH_ANALYZER_MIN_GROWTH=1.5

# Порог непрерывности роста (0-1)
# Значения: 0.5-0.9 (выше = строже проверка непрерывности)
# Назначение: требование к плавности роста
GROWTH_ANALYZER_CONTINUITY_THRESHOLD=1.5

# ------------ АНАЛИЗАТОР ПАДЕНИЯ -------------

# Включить анализатор падения
# Назначение: обнаружение нисходящих трендов
FALL_ANALYZER_ENABLED=true

# Минимальная уверенность для сигналов падения (%)
FALL_ANALYZER_MIN_CONFIDENCE=30.0

# Минимальный порог падения для сигнала (%)
FALL_ANALYZER_MIN_FALL=1.5

# Порог непрерывности падения
FALL_ANALYZER_CONTINUITY_THRESHOLD=1.5

# ----- АНАЛИЗАТОР НЕПРЕРЫВНОСТИ ТРЕНДА ------

# Включить проверку непрерывности тренда
# Назначение: фильтрация скачкообразных движений
CONTINUOUS_ANALYZER_ENABLED=true

# Минимальное количество непрерывных точек данных
# Значения: 2-10 (больше = строже)
# Назначение: требование к последовательности движения
CONTINUOUS_ANALYZER_MIN_POINTS=3

# ============================================
# 5. ФИЛЬТРЫ СИГНАЛОВ (POST-PROCESSING)
# ============================================

# Включить пост-обработку сигналов
# Назначение: дополнительная фильтрация после анализа
SIGNAL_FILTERS_ENABLED=true

# Глобальная минимальная уверенность для всех сигналов
# Значения: 0-100 (фильтрует слабые сигналы)
MIN_CONFIDENCE=30.0

# Максимальное количество сигналов в минуту на символ
# Значения: 1-10 (ограничивает спам)
# Назначение: предотвращение флуда сигналов
MAX_SIGNALS_PER_MIN=3

# Паттерны символов для ВКЛЮЧЕНИЯ (через запятую)
# Формат: * - любой символ (BTC*, *USDT)
# Назначение: принудительное включение определенных символов
SIGNAL_INCLUDE_PATTERNS=BTC*,ETH*,BNB*

# Паттерны символов для ИСКЛЮЧЕНИЯ (через запятую)
# Назначение: блокировка нежелательных символов
SIGNAL_EXCLUDE_PATTERNS=*DOWN*,*UP*,*BEAR*,*BULL*

# ============================================
# 6. TELEGRAM УВЕДОМЛЕНИЯ
# ============================================

# Включить отправку уведомлений в Telegram
# Назначение: push-уведомления о сигналах
TELEGRAM_ENABLED=true

# Токен бота Telegram (получить у @BotFather)
# Формат: 1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
TG_API_KEY=

# ID чата/пользователя (получить у @userinfobot)
# Формат: число (123456789)
TG_CHAT_ID=

# Уведомлять о сигналах роста
TELEGRAM_NOTIFY_GROWTH=true

# Уведомлять о сигналах падения
TELEGRAM_NOTIFY_FALL=true

# Порог роста для Telegram уведомлений (%)
# Значения: может быть ниже чем общий порог
TELEGRAM_GROWTH_THRESHOLD=0.5

# Порог падения для Telegram уведомлений (%)
TELEGRAM_FALL_THRESHOLD=0.5

# Формат сообщений в Telegram
# Значения: compact (компактный), detailed (подробный)
# Назначение: количество информации в уведомлении
MESSAGE_FORMAT=compact

# Включать статистику за 24 часа в уведомлениях
# Назначение: дополнительная информация в сообщениях
INCLUDE_24H_STATS=true

# Дополнительные чаты для мониторинга
MONITORING_CHAT_ID=-4995301400
MONITORING_ENABLED=true
MONITORING_NOTIFY_GROWTH=true
MONITORING_NOTIFY_FALL=true
MONITORING_TEST_MODE=false

# ============================================
# 7. НАСТРОЙКИ ОТОБРАЖЕНИЯ В КОНСОЛИ
# ============================================

# Режим отображения в терминале
# Значения: compact, detailed
DISPLAY_MODE=compact

# Максимальное количество сигналов в одном выводе
# Назначение: читаемость, предотвращение переполнения
MAX_SIGNALS_PER_BATCH=10

# Минимальная уверенность для отображения в консоли
# Значения: может быть ниже чем для уведомлений
MIN_CONFIDENCE_DISPLAY=30

# Отображать сигналы роста в консоли
DISPLAY_GROWTH=true

# Отображать сигналы падения в консоли
DISPLAY_FALL=true

# Какие периоды отображать (минуты)
DISPLAY_PERIODS=5,15,30

# Использовать цветовой вывод в терминале
# Назначение: визуальное выделение типов сигналов
USE_COLORS=true

# ============================================
# 8. ЛОГИРОВАНИЕ И МОНИТОРИНГ
# ============================================

# Уровень детализации логов
# Значения: debug, info, warn, error
# Назначение: количество информации в логах
LOG_LEVEL=info

# Путь к файлу логов
LOG_FILE=logs/growth_monitor.log

# Выводить логи в консоль
LOG_TO_CONSOLE=true

# Записывать логи в файл
LOG_TO_FILE=true

# Включить HTTP сервер для мониторинга
# Назначение: доступ к метрикам через веб-интерфейс
HTTP_ENABLED=false

# Порт HTTP сервера
HTTP_PORT=8080

# ============================================
# 9. НАСТРОЙКИ ПРОИЗВОДИТЕЛЬНОСТИ
# ============================================

# Интервал обновления цен в секундах
# Назначение: частота запросов к API биржи
UPDATE_INTERVAL=10

# Максимум параллельных HTTP запросов
# Значения: 5-20 (зависит от лимитов биржи)
MAX_CONCURRENT_REQUESTS=10

# Таймаут HTTP запросов в секундах
REQUEST_TIMEOUT=30

# Размер буфера шины событий
# Назначение: обработка пиковых нагрузок
EVENT_BUS_BUFFER_SIZE=1000

# Количество воркеров для обработки событий
# Назначение: параллелизм внутренней обработки
EVENT_BUS_WORKER_COUNT=10

# Логировать события шины (для отладки)
# Назначение: детализация логов событий
EVENT_BUS_ENABLE_LOGGING=false

# Собирать метрики шины событий
# Назначение: мониторинг производительности
EVENT_BUS_ENABLE_METRICS=true

# ============================================
# 10. УСТАРЕВШИЕ НАСТРОЙКИ (ДЛЯ СОВМЕСТИМОСТИ)
# ============================================

# Оставьте значения по умолчанию для совместимости

# Старая настройка непрерывности
CHECK_CONTINUITY=false

# Минимальное количество точек данных
MIN_DATA_POINTS=2

# Старые пороги роста/падения
GROWTH_THRESHOLD=1.5
FALL_THRESHOLD=1.5

# Старые периоды анализа
GROWTH_PERIODS=5,15,30

# ============================================
# 11. СЧЕТЧИК СИГНАЛОВ (COUNTER ANALYZER)
# ============================================

# Включить анализатор счетчика
COUNTER_ANALYZER_ENABLED=true

# Базовый период в минуты (рост/падение за этот период считается 1 сигналом)
COUNTER_BASE_PERIOD_MINUTES=1

# Период анализа для счетчика
# Значения: 5m, 15m, 30m, 1h, 4h, 1d
COUNTER_ANALYSIS_PERIOD=5m

# Максимальное количество сигналов за период
COUNTER_MAX_SIGNALS_5MIN=5
COUNTER_MAX_SIGNALS_15MIN=8
COUNTER_MAX_SIGNALS_30MIN=10
COUNTER_MAX_SIGNALS_1HOUR=12
COUNTER_MAX_SIGNALS_4HOURS=15
COUNTER_MAX_SIGNALS_1DAY=20

# Порог роста для счетчика(сообщения в Телеграм будут приходить при достижении этого порога)
COUNTER_GROWTH_THRESHOLD=2.0

# Порог падения для счетчика(сообщения в Телеграм будут приходить при достижении этого порога)
COUNTER_FALL_THRESHOLD=2.0

# Отслеживать рост
COUNTER_TRACK_GROWTH=true

# Отслеживать падение
COUNTER_TRACK_FALL=true

# Порог для уведомлений (уведомлять каждые N сигналов)
COUNTER_NOTIFICATION_THRESHOLD=1

# Провайдер графиков (coinglass или tradingview)
COUNTER_CHART_PROVIDER=coinglass

# Включить уведомления счетчика
COUNTER_NOTIFICATION_ENABLED=true

# ============================================
# КОНЕЦ КОНФИГУРАЦИИ
# ============================================

# После настройки запустите:
# make setup    # Настройка окружения
# make build    # Сборка бинарника
# make run-prod # Запуск в продакшен режиме

# Или для разработки:
# make run      # Запуск из исходников